<!DOCTYPE html>
<html lang="en-us">
<head>
    <title>FriendFinder</title>
    <!--===============================JQUERY.MIN CDN===========================================================-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!--===============================BOOTSTRAP CDN COMPILED AND MINIFIED CSS==================================-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!--Favicon-->
    <link rel="shortcut icon" type="image/png" href="images/FacebookNoProfile.jpg"/>
    <!--===============================JQUERY.MIN CDN===========================================================-->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!--===============================font awesome CDN==================================================-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

<body>
    <header class="container">
        <div class="jumbotron container">
            <h2>Survey Questions</h2>
            <hr>
        
            <h3><strong>About You</strong></h3>
            <h4>Name <span style="color:red; font-size:.8em;">*required</span></h4>
            <input type="text" id="name" class="required-fields" style="width:50%;" required>
        
            <h4>Link to Photo Image <span style="color:red; font-size:.8em;">*required</span></h4>
            <input type="text" id="photo" class="required-fields" style="width:50%;" required>
        
            <hr>
        
            <h3><strong>Question 1</strong></h3>
            <h4>Pineapple pizza is delicious.</h4>
            <select class="survey-answer" id="q1">
                <option value="">Select an option below</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 2</strong></h3>
            <h4>Farts are hilarious.</h4>
            <select class="survey-answer" id="q2">
                <option value="">Select an option below</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 3</strong></h3>
            <h4>Kleenex is a Kleenex. That is not a facial tissue.</h4>
            <select class="survey-answer" id="q3">
                <option value="">Select an option below</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 4</strong></h3>
            <h4>Fruity Pebbles is better than Cinnamon Toast Crunch.</h4>
            <select class="survey-answer" id="q4">
                <option value="">Select an option below</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 5</strong></h3>
            <h4>Live to work.</h4>
            <select class="survey-answer" id="q5">
                <option value="">Select an option below</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 6</strong></h3>
            <h4>Work to live.</h4>
            <select class="survey-answer" id="q6">
                <option value="">Select an option below</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 7</strong></h3>
            <h4>Kids are gross.</h4>
            <select class="survey-answer" id="q7">
                <option value="">Select an option below</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 8</strong></h3>
            <h4>Star Wars is overrated. </h4>
            <select class="survey-answer" id="q8">
                <option value="">Select an option below</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 9</strong></h3>
            <h4>Fedoras are stupid.</h4>
            <select class="survey-answer" id="q9">
                <option value="">Select an option below</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <h3><strong>Question 10</strong></h3>
            <h4>Dessert is mandatory.</h4>
            <select class="survey-answer" id="q10">
                <option value="">Select an option below</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
        
            <br>
            <br>
        
            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary btn-lg btn-block" id="submitSurvey" style="width:30%; margin:auto;" data-toggle="modal" data-target="#results-modal"><i class="fa fa-check-circle" aria-hidden="true" ></i>
                Submit
            </button>
            <!-- Button trigger modal -->
            <!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#results-modal">
                    Launch demo modal
            </button> -->
        
            <hr>
            <footer class="footer">
                <div class="container">
                <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/Bangarng/FriendFinder">GitHub Repo</a></p>
                </div>
            </footer>
        
            </div>              
    </header>
    <!--  -->      
      <!-- Modal -->
      <div class="modal fade" id="results-modal" tabindex="-1" role="dialog" aria-labelledby="BFF Results" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Algorithms compiled! Your new BFF is:</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="modal-body">
                    <h2 id="match-name"></h2>
                    <img id="match-img" src="" alt="" width="435px" height="435px">
                </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-success" data-dismiss="modal">Wow Awesome!!!</button>
            </div>
          </div>
        </div>
      </div>
    <!--  -->

    <script type="text/javascript">

        // Grabs information for the server
        $("#submitSurvey").on("click", function(event) {
            event.preventDefault();

            // Form validation
            function validateForm() {
            var isValid = true;
            $(".required-fields").each(function() {
                if ($(this).val() === "") {
                isValid = false;
                }
            });
            $(".survey-answer").each(function() {
                if ($(this).val() === "") {
                isValid = false;
                }
            });
                return isValid;
            }

            // If all questions, name and photo image are answered.
            if (validateForm()) {
                // Create an object for the user"s data
                var friend = {
                    name: $("#name").val(),
                    photo: $("#photo").val(),
                    scores: [
                        $("#q1").val(),
                        $("#q2").val(),
                        $("#q3").val(),
                        $("#q4").val(),
                        $("#q5").val(),
                        $("#q6").val(),
                        $("#q7").val(),
                        $("#q8").val(),
                        $("#q9").val(),
                        $("#q10").val()
                    ]
                };
                //Grabs current URL of website
                var currentURL = window.location.origin;

                // AJAX post the data to the friends API.
                $.post(currentURL + "/api/friends", friend, function(data) {
                //Grab the result from the AJAX post so that the best match's name and photo are displayed.
                    $("#match-name").text(data.name);
                    $("#match-img").attr("src", data.photo);
                });

                    //clear form after submission
                    $('#name').val("");
                    $('#photo').val("");
                    $('#q1').val("");
                    $('#q2').val("");
                    $('#q3').val("");
                    $('#q4').val("");
                    $('#q5').val("");
                    $('#q6').val("");
                    $('#q7').val("");
                    $('#q8').val("");
                    $('#q9').val("");
                    $('#q10').val("");
                } else {
                alert("Please fill out all fields before submitting!");
            }
        });

    </script>
        <style>
            body {
                background: linear-gradient(230deg, #a24bcf, #4b79cf, #4bc5cf);
                background-size: 300% 300%;
                -webkit-animation: AnimationName 20s ease infinite;
                -moz-animation: AnimationName 20s ease infinite;
                animation: AnimationName 20s ease infinite;
            }

            @-webkit-keyframes AnimationName {
                0%{background-position:0% 51%}
                50%{background-position:100% 10%}
                100%{background-position:0% 51%}
            }

            @-moz-keyframes AnimationName {
                0%{background-position:0% 51%}
                50%{background-position:100% 10%}
                100%{background-position:0% 51%}
            }

            @keyframes AnimationName { 
                0%{background-position:0% 51%}
                50%{background-position:100% 10%}
                100%{background-position:0% 51%}
            } 
            .jumbotron {
                margin-top: 10%;
                background: linear-gradient(#f2f2f2, #fff);
            }
    
            h1, h2, h3, h4 {
                color: #333;
            } 
    
            .fa-child {
                font-size:1.5em;
                color:#333;
            }
    
            select {
                border-radius: 5px;
                margin-bottom:2%;
            }
            .modal-body {
                margin-bottom: 10px;
            }
        </style>
</body>
</html>
